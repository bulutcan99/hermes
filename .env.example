# Hermes Environment Configuration
# Copy this file to .env and adjust values as needed

# =============================================================================
# Database Configuration
# =============================================================================
DATABASE_URL=postgres://hermes:hermes_dev@localhost:5432/hermes

# =============================================================================
# Event Bus (NATS)
# =============================================================================
NATS_URL=nats://localhost:4222

# =============================================================================
# Cache (Redis)
# =============================================================================
REDIS_URL=redis://localhost:6379

# =============================================================================
# Logging
# =============================================================================
# Options: trace, debug, info, warn, error
RUST_LOG=info,sqlx=warn

# JSON structured logs (set to 1 for production)
RUST_LOG_JSON=0

# =============================================================================
# UDP Ingestor Configuration
# =============================================================================
UDP_BIND_ADDR=0.0.0.0:4000
UDP_MAX_PACKET_SIZE=2048
TELEMETRY_TOPIC_PREFIX=telemetry

# =============================================================================
# Location Processor Configuration
# =============================================================================
# Maximum idle time before completing route (seconds)
MAX_IDLE_TIME_SECS=300

# Minimum distance to create segment (meters)
MIN_SEGMENT_DISTANCE_M=50

# Minimum speed to consider moving (km/h)
MIN_MOVING_SPEED_KMPH=5

# =============================================================================
# Gateway Configuration
# =============================================================================
GATEWAY_HOST=0.0.0.0
GATEWAY_PORT=8080

# JWT Configuration
JWT_SECRET=your-secret-key-change-in-production-use-long-random-string
JWT_EXPIRATION_HOURS=24

# =============================================================================
# Simulation Configuration
# =============================================================================
# Number of vehicles to simulate
NUM_VEHICLES=10

# Update interval in milliseconds
UPDATE_INTERVAL_MS=2000

# City center coordinates (default: Istanbul)
CITY_CENTER_LAT=41.0082
CITY_CENTER_LON=28.9784

# Simulation radius in kilometers
CITY_RADIUS_KM=15.0

# UDP target for telemetry
UDP_TARGET=127.0.0.1:4000

# =============================================================================
# Metrics & Observability
# =============================================================================
METRICS_PORT=9091
ENABLE_TRACING=true
TRACING_ENDPOINT=http://localhost:14268/api/traces

# =============================================================================
# Performance Tuning
# =============================================================================
# Database connection pool size
DB_MAX_CONNECTIONS=10
DB_MIN_CONNECTIONS=2

# NATS connection pool
NATS_MAX_RECONNECTS=10

# Redis connection pool
REDIS_POOL_SIZE=10
